import {useRouter} from 'next/navigation'
import Link from 'next/link'
import {useEffect, useState, useContext} from 'react'
import UserContext from "@/components/provider/UserProvider/UserContext";
import usePicture from "@/hooks/pictrue";
import Panel from "./Panel";
import DivineBeast from "@/components/compose/DivineBeast/DivineBeast";
import DialogsContext from "@/components/provider/DialogProvider/DialogsContext";
import AppSwiper from "@/components/eventSpecial/AppSwiper/AppSwiper";
import BeastBtn from "@/components/compose/DivineBeast/BeastBtn";
import {Event, queryRecommendEvent, getShanhaiwooResource, getDivineBeast, Badgelet} from "@/service/solas";
import useformatTime from "@/hooks/formatTime";
import useBeastConfig from "@/components/compose/DivineBeast/beastConfig";
import {ChevronDown} from "baseui/icon";

function Merge() {
    const router = useRouter()
    const {user} = useContext(UserContext)
    const {defaultAvatar} = usePicture()
    const {openConnectWalletDialog} = useContext(DialogsContext)
    const formatTime = useformatTime()
    const [events, setEvents] = useState<Event[]>([])
    const [myBeasts, setMyBeasts] = useState<Badgelet[] | null>(null)
    const [loading, setLoading] = useState(true)
    const [resource, setResource] = useState<any>(null)
    const { beastInfo } = useBeastConfig()
    const [swiperInitIndex, setSwiperInitIndex] = useState(0)

    useEffect(() => {
        async function getEvents() {
            try {
                const events = await queryRecommendEvent({page: 1, rec: 'latest'})
                setEvents(events.splice(0, 3))
            } catch (e: any) {
                console.error(e)
            }
        }

        getEvents()
    }, [])

    async function getResource () {
        if (user.id) {
            const resourceRes = await getShanhaiwooResource(user.id)
            setResource(resourceRes)
        }
    }

    async function getData () {
        if (user.id) {
            setLoading(true)
            await getResource()

            const beast = await getDivineBeast(user.id)
            const completeBeast = beast.filter((item) => {
                const metadata = JSON.parse(item.metadata!)
                return metadata.properties.status === 'complete'
            })

            const buildingBeast = beast.filter((item) => {
                const metadata = JSON.parse(item.metadata!)
                return metadata.properties.status !== 'complete'
            })

            setSwiperInitIndex(completeBeast.length)

            setTimeout(() => {
                setMyBeasts([...completeBeast, ...buildingBeast])
                setLoading(false)
            }, 100)
        } else {
            setMyBeasts([])
            setLoading(false)
        }

    }

    useEffect(() => {
        getData()
    }, [user.id])

    const gotoCreate = () => {
        if (!user.id) {
            openConnectWalletDialog()
            return
        } else {
            router.push('/event/create')
        }
    }

    const beastList = myBeasts ? [
        ...myBeasts.map((beast, index) => {
            return <DivineBeast key={index} badgelet={beast} poap={resource?.poap_count || 0} host={resource?.host_count || 0} onMerge={() => {getResource()}} />
        }),
        <DivineBeast key={'a'} hide={1} poap={resource?.poap_count || 0} host={resource?.host_count || 0} onMerge={() => {getResource()}} />,
        <DivineBeast key={'b'} hide={2} poap={resource?.poap_count || 0} host={resource?.host_count || 0} onMerge={() => {getResource()}} />,
        <DivineBeast key={'c'} hide={3} poap={resource?.poap_count || 0} host={resource?.host_count || 0} onMerge={() => {getResource()}} />,
        <DivineBeast key={'d'} hide={4} poap={resource?.poap_count || 0} host={resource?.host_count || 0} onMerge={() => {getResource()}} />,
    ] : [
        <DivineBeast key={'a'} hide={1} poap={resource?.poap_count || 0} host={resource?.host_count || 0} onMerge={() => {getResource()}} />,
        <DivineBeast key={'b'} hide={2} poap={resource?.poap_count || 0} host={resource?.host_count || 0} onMerge={() => {getResource()}} />,
        <DivineBeast key={'c'} hide={3} poap={resource?.poap_count || 0} host={resource?.host_count || 0} onMerge={() => {getResource()}} />,
        <DivineBeast key={'d'} hide={4} poap={resource?.poap_count || 0} host={resource?.host_count || 0} onMerge={() => {getResource()}} />,
    ]


    return (<div>
        <div className={'merge-page'}>
            <div className={'center'}>
                <i className={'bg_1'}/>
                <img className={'bg_2'} src="/images/merge/bg.png" alt=""/>
                <i className={'bg_3'}/>
                <div className={'page-header'}>
                    <div className={'left'}>
                        <a href={'https://app.sola.day'}><img src={'/images/logo.svg'} alt={''} /></a>
                        <i className={'split'}/>
                        <Link href={'/event'} className={'home'}>
                            <svg onClick={e => {
                                router.push('/event')
                            }}
                                 width="47" height="20"
                                 viewBox="0 0 47 20"
                                 style={{width: '47px'}}
                                 fill="none" xmlns="http://www.w3.org/2000/svg">
                                <mask id="path-1-inside-1_1400_23185" fill="white">
                                    <path fillRule="evenodd" clipRule="evenodd"
                                          d="M17 17.1414C15.1963 18.9097 12.7255 20 10 20C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10 0C12.7255 0 15.1963 1.09032 17 2.85857C18.8038 1.09032 21.2745 0 24 0C26.4815 0 28.752 0.903899 30.5 2.40041C32.248 0.903899 34.5185 0 37 0C42.5228 0 47 4.47715 47 10C47 15.5228 42.5228 20 37 20C34.5185 20 32.248 19.0961 30.5 17.5996C28.752 19.0961 26.4815 20 24 20C21.2745 20 18.8038 18.9097 17 17.1414Z"/>
                                </mask>
                                <path
                                    d="M17 17.1414L17.49 16.6416L17 16.1612L16.51 16.6416L17 17.1414ZM17 2.85857L16.51 3.35844L17 3.83882L17.49 3.35844L17 2.85857ZM30.5 2.40041L30.0448 2.93216L30.5 3.3219L30.9552 2.93216L30.5 2.40041ZM30.5 17.5996L30.9552 17.0678L30.5 16.6781L30.0448 17.0678L30.5 17.5996ZM16.51 16.6416C14.8318 18.2867 12.5349 19.3 10 19.3V20.7C12.916 20.7 15.5607 19.5326 17.49 17.6413L16.51 16.6416ZM10 19.3C4.86375 19.3 0.7 15.1362 0.7 10H-0.7C-0.7 15.9094 4.09055 20.7 10 20.7V19.3ZM0.7 10C0.7 4.86375 4.86375 0.7 10 0.7V-0.7C4.09055 -0.7 -0.7 4.09055 -0.7 10H0.7ZM10 0.7C12.5349 0.7 14.8318 1.71326 16.51 3.35844L17.49 2.3587C15.5607 0.467374 12.916 -0.7 10 -0.7V0.7ZM17.49 3.35844C19.1682 1.71326 21.4651 0.7 24 0.7V-0.7C21.084 -0.7 18.4393 0.467375 16.51 2.3587L17.49 3.35844ZM24 0.7C26.3084 0.7 28.4188 1.54012 30.0448 2.93216L30.9552 1.86867C29.0852 0.267679 26.6547 -0.7 24 -0.7V0.7ZM30.9552 2.93216C32.5812 1.54012 34.6916 0.7 37 0.7V-0.7C34.3453 -0.7 31.9148 0.267679 30.0448 1.86867L30.9552 2.93216ZM37 0.7C42.1362 0.7 46.3 4.86375 46.3 10H47.7C47.7 4.09055 42.9094 -0.7 37 -0.7V0.7ZM46.3 10C46.3 15.1362 42.1362 19.3 37 19.3V20.7C42.9094 20.7 47.7 15.9094 47.7 10H46.3ZM37 19.3C34.6916 19.3 32.5812 18.4599 30.9552 17.0678L30.0448 18.1313C31.9148 19.7323 34.3453 20.7 37 20.7V19.3ZM30.0448 17.0678C28.4188 18.4599 26.3084 19.3 24 19.3V20.7C26.6547 20.7 29.0852 19.7323 30.9552 18.1313L30.0448 17.0678ZM24 19.3C21.4651 19.3 19.1682 18.2867 17.49 16.6416L16.51 17.6413C18.4393 19.5326 21.084 20.7 24 20.7V19.3Z"
                                    fill="#246AAB" mask="url(#path-1-inside-1_1400_23185)"/>
                                <path
                                    d="M14.7928 11.3797C14.5578 10.7366 14.4752 10.1583 14.4476 9.72363C14.5932 9.57906 14.6827 9.37844 14.6827 9.15717C14.6827 8.71659 14.3257 8.35862 13.8841 8.35862C13.4435 8.35862 13.0856 8.71561 13.0856 9.15717C13.0856 9.39909 13.1937 9.61643 13.3639 9.76198C13.414 10.2881 13.5261 10.9519 13.7691 11.6895C13.9943 12.374 14.2726 12.9375 14.5263 13.3722C13.6953 13.2797 12.9676 13.1037 12.3657 12.9109C12.1759 12.7477 11.9222 12.5048 11.6694 12.1724C10.9555 11.2352 10.7755 10.2832 10.6732 9.70888C10.4618 8.51401 10.6152 7.49911 10.7755 6.84906C10.7765 6.84217 10.7794 6.8343 10.7804 6.82742C10.8148 6.81267 10.8433 6.79596 10.8679 6.77727C10.8925 6.75563 10.9161 6.73302 10.9378 6.70941C11.1158 6.52354 11.2249 6.27178 11.2249 5.99544C11.2249 5.42407 10.7627 4.96185 10.1913 4.96185C9.61996 4.96185 9.15676 5.42407 9.15676 5.99544C9.15676 6.40947 9.40065 6.76645 9.75174 6.93265C9.76255 8.19734 9.73108 9.227 9.69863 9.96654C9.67306 10.5556 9.65143 10.8162 9.54915 11.1339C9.20692 12.194 8.30904 12.8165 7.72783 13.1361C7.25382 13.2384 6.8634 13.3122 6.54181 13.3663C6.78079 12.6995 7.00305 11.9383 7.17613 11.0906C7.2607 10.6746 7.32463 10.2753 7.3738 9.89573H7.37478C7.66588 9.77673 7.87043 9.49154 7.87043 9.15717C7.87043 8.71659 7.51345 8.35862 7.07189 8.35862C6.66671 8.35862 6.33136 8.66054 6.28121 9.05293C6.27826 9.07358 6.27629 9.09522 6.27432 9.11587V9.11685C6.27432 9.12472 6.27334 9.13259 6.27334 9.14045V9.15717C6.27334 9.35976 6.34808 9.54464 6.47396 9.68527C6.43659 10.1504 6.3471 10.7208 6.14844 11.3463C5.81998 12.3818 5.32728 13.1509 4.94767 13.6465C4.94669 13.6475 4.94669 13.6475 4.9457 13.6485C4.92309 13.68 4.90047 13.7075 4.87883 13.737L4.87785 13.738C4.76476 13.913 4.72148 14.153 4.76279 14.3664C4.84736 14.807 5.29286 15.0391 5.61936 15.0519C5.96651 15.0666 6.23203 14.8375 6.33628 14.7519C7.18891 14.0615 8.46541 13.9425 9.4213 13.8521C10.449 13.7557 11.219 13.9544 12.4847 14.2809C13.3816 14.512 14.1044 14.7863 14.606 14.9978C15.0947 14.4766 15.5845 13.9553 16.0732 13.4341C15.7025 13.0466 15.1527 12.3661 14.7928 11.3797ZM9.43704 12.847C9.63176 12.6818 9.85893 12.4507 10.0527 12.135C10.1127 12.0386 10.1628 11.9442 10.2051 11.8537C10.3251 12.0632 10.4814 12.2953 10.684 12.5313C10.7725 12.6336 10.8601 12.726 10.9466 12.8106C10.4441 12.8224 9.94055 12.8342 9.43704 12.847Z"
                                    fill="#246AAB"/>
                                <path
                                    d="M20.7685 5.0921C20.5256 5.09604 18.9787 5.14521 18.3994 6.17486C18.3129 6.32828 18.0198 6.85048 18.2637 7.235C18.4594 7.5438 18.9246 7.64313 19.256 7.52806C19.5373 7.4307 19.6877 7.15338 19.9778 6.60266C20.3358 5.92704 20.6102 5.39893 20.7685 5.0921Z"
                                    fill="#246AAB"/>
                                <path
                                    d="M20.6731 12.2435C20.203 12.3045 18.5607 12.569 17.9598 13.7383C17.8477 13.9567 17.5979 14.4415 17.8241 14.7985C18.0198 15.1073 18.485 15.2066 18.8164 15.0915C19.1793 14.9657 19.3228 14.6106 19.5382 14.1661C19.7693 13.6951 20.1263 13.0313 20.6731 12.2435Z"
                                    fill="#246AAB"/>
                                <path
                                    d="M20.4528 8.79272C20.2099 8.84288 18.8086 9.1448 18.1851 9.97678C18.0897 10.1046 17.8999 10.3643 17.8802 10.733C17.8743 10.8393 17.8507 11.2808 18.128 11.4667C18.4614 11.6889 18.9738 11.3693 18.9964 11.3536C19.3907 11.0999 19.4419 10.7222 19.7526 10.0338C19.8913 9.72698 20.1116 9.29231 20.4528 8.79272Z"
                                    fill="#246AAB"/>
                                <path
                                    d="M23.9301 4.99377C23.7688 5.1403 23.4994 5.04491 23.0844 4.99377C22.7441 4.95148 22.273 4.93575 21.6889 5.04491C21.5886 5.08523 21.4204 5.16784 21.2739 5.33207C20.9995 5.64087 20.8333 6.20142 21.0959 6.4994C21.1372 6.54562 21.2631 6.67052 21.5443 6.69413C21.6535 6.66167 21.8108 6.61545 22.0016 6.56726C23.4325 6.20339 24.6274 6.21027 25.2165 6.23683C25.8675 6.26731 26.7368 6.36566 27.7291 6.65184C27.8068 6.4758 27.9081 6.2801 28.0419 6.07653C28.3044 5.67725 28.5985 5.39107 28.8374 5.19635C28.3349 5.1403 27.8157 5.09211 27.2807 5.05278C26.5244 4.99771 25.7957 4.96525 25.0975 4.95148C25.1594 4.60531 25.005 4.26209 24.7169 4.09688C24.3471 3.88544 23.9626 4.08409 23.939 4.09688C24.0442 4.42928 24.118 4.82265 23.9301 4.99377Z"
                                    fill="#246AAB"/>
                                <path
                                    d="M27.6555 13.7108C27.3969 13.5407 27.1619 13.3686 26.9504 13.1975C27.3399 12.9172 27.7283 12.6369 28.1187 12.3566C28.1571 12.3104 28.2594 12.1708 28.2535 11.979C28.2515 11.9102 28.2358 11.8531 28.22 11.8098C28.1777 11.74 28.1354 11.6702 28.0932 11.6014C27.7804 11.2621 27.4677 10.9248 27.154 10.5855C27.5356 10.2708 27.8375 10.0298 28.0932 9.84101C28.1738 9.78102 28.3164 9.67776 28.338 9.51156C28.3557 9.36896 28.2771 9.24702 28.2259 9.18211C27.1992 8.35701 26.1735 7.53093 25.1468 6.70583C25.1124 6.6842 25.0298 6.63797 24.9167 6.63699C24.8301 6.63601 24.7633 6.66157 24.7269 6.67829C24.3768 6.83072 24.0237 6.98611 23.6687 7.14542C22.8859 7.49749 22.1247 7.85448 21.3842 8.2154C21.3212 8.26359 21.2426 8.34325 21.2091 8.46519C21.2072 8.47404 21.2052 8.47994 21.2042 8.48486C21.1875 8.55566 21.1521 8.74547 21.2091 8.99034C21.3006 9.38175 21.6084 9.83511 21.8523 10.022C21.8867 10.0485 21.9929 10.1252 22.0047 10.2422C22.0106 10.3062 21.986 10.3603 21.9683 10.3927C21.7913 10.553 21.2318 11.0654 20.9279 11.4922C20.8453 11.6073 20.7538 11.7567 20.801 11.8984C20.8345 11.9977 20.922 12.0547 20.979 12.0852C21.0508 12.1216 21.276 12.2366 21.3763 12.2888C21.7795 12.4953 22.0323 12.6271 22.2221 12.8552C22.2791 12.9241 22.3371 13.0096 22.3322 13.1168C22.3273 13.2181 22.2703 13.2938 22.2388 13.3283C22.0205 13.4856 21.6468 13.7147 21.1305 13.8446C20.625 13.9724 20.1942 13.9537 19.9287 13.9203C20.0743 14.1986 20.3998 14.7316 20.9525 15.0119C21.1905 15.1319 21.3419 15.1417 21.4265 15.1388C21.5465 15.1358 21.6969 15.1034 22.1365 14.8005C22.4473 14.5861 22.5938 14.4484 22.9577 14.1652C23.1583 14.0098 23.3235 13.8868 23.4317 13.8101C23.5517 13.9537 23.6726 14.0973 23.7956 14.2409C24.0267 14.5123 24.2588 14.7778 24.4889 15.0365C24.5292 15.065 24.6256 15.127 24.7642 15.1378C24.9236 15.1496 25.0406 15.0866 25.0819 15.062C25.2776 14.8801 25.4782 14.6824 25.6828 14.47C25.8382 14.3068 25.9847 14.1455 26.1224 13.9881C26.2758 14.3186 26.5423 14.7788 27.0025 15.2066C27.2012 15.3905 27.3989 15.5351 27.5778 15.6472C28.1728 15.2912 28.7668 14.9362 29.3608 14.5811C28.8494 14.3845 28.2643 14.1091 27.6555 13.7108ZM23.8221 12.1413L23.4268 12.5366C23.3284 12.634 23.1701 12.634 23.0718 12.5366L22.3116 11.7764C22.2132 11.6781 22.2132 11.5187 22.3116 11.4214L22.7069 11.026C22.8043 10.9277 22.9636 10.9277 23.0619 11.026L23.8221 11.7862C23.9195 11.8846 23.9195 12.0429 23.8221 12.1413ZM24.127 10.4094L24.5223 10.0151C24.6207 9.91673 24.779 9.91673 24.8773 10.0151L25.2727 10.4094C25.37 10.5078 25.37 10.6671 25.2727 10.7645L24.8773 11.1598C24.779 11.2581 24.6207 11.2581 24.5223 11.1598L24.127 10.7645C24.0296 10.6671 24.0296 10.5078 24.127 10.4094ZM25.3769 13.5633L24.9816 13.9577C24.8832 14.056 24.7249 14.056 24.6266 13.9577L24.2312 13.5633C24.1339 13.465 24.1339 13.3056 24.2312 13.2083L24.6266 12.8129C24.7249 12.7146 24.8832 12.7146 24.9816 12.8129L25.3769 13.2083C25.4743 13.3066 25.4743 13.465 25.3769 13.5633ZM24.9835 8.88118C24.9688 8.8566 24.9354 8.81234 24.8773 8.78874C24.7888 8.75137 24.6797 8.77694 24.598 8.85168C24.1093 9.13983 23.6195 9.42699 23.1308 9.71513C22.9685 9.54991 22.8062 9.3847 22.644 9.22047C22.6371 9.21457 22.5889 9.17326 22.5909 9.10836C22.5928 9.06902 22.6105 9.0405 22.6184 9.02968C23.0196 8.76219 23.4484 8.49371 23.9047 8.22818C24.1732 8.0728 24.4358 7.92627 24.6944 7.78761C24.7485 7.76007 24.8232 7.73549 24.9029 7.75122C24.9855 7.76696 25.0386 7.82006 25.0553 7.83579C25.1714 7.94594 25.8391 8.52223 26.7645 9.31684C26.7685 9.31979 26.8167 9.36503 26.8068 9.43092C26.7999 9.48107 26.7616 9.52336 26.7105 9.53615C26.5738 9.65809 26.4361 9.77905 26.3004 9.90002C26.1892 9.82036 26.0781 9.73873 25.966 9.65514C25.6208 9.39748 25.2933 9.13884 24.9835 8.88118ZM26.4223 12.6585C26.324 12.7569 26.1647 12.7569 26.0663 12.6585L25.672 12.2632C25.5736 12.1658 25.5736 12.0065 25.672 11.9082L26.3063 11.2739C26.4046 11.1755 26.5639 11.1755 26.6613 11.2739L27.0566 11.6682C27.155 11.7666 27.155 11.9259 27.0566 12.0242L26.4223 12.6585Z"
                                    fill="#246AAB"/>
                                <path
                                    d="M36.6915 12.1819C36.5617 12.6097 36.3384 13.3444 36.0473 14.2894C35.8103 15.0565 35.6874 15.443 35.4583 15.5787C35.1878 15.74 34.8082 15.6004 34.6489 15.1696C34.4493 14.6336 34.6882 13.9059 34.759 13.6915C35.2321 12.2567 36.4928 12.1878 36.6915 12.1819Z"
                                    fill="#246AAB"/>
                                <path
                                    d="M37.7074 14.5608C37.5697 14.8244 37.2727 15.0152 37.0426 14.9119C36.7554 14.7831 36.7112 14.2619 36.6984 14.1085C36.6119 13.0778 37.4488 12.1829 37.5815 12.0443C37.615 12.3432 37.672 12.8585 37.7408 13.5223C37.7989 14.0632 37.8244 14.3376 37.7074 14.5608Z"
                                    fill="#246AAB"/>
                                <path
                                    d="M39.1767 14.2088C39.0822 14.5048 38.8167 14.788 38.5679 14.7733C38.2571 14.7536 38.1263 14.2796 38.088 14.14C37.8284 13.2047 38.5168 12.0698 38.6269 11.8938C38.7105 12.1623 38.8541 12.6255 39.035 13.2244C39.1845 13.7102 39.2563 13.958 39.1767 14.2088Z"
                                    fill="#246AAB"/>
                                <path
                                    d="M40.4747 14.134C40.2761 14.3524 39.9535 14.3317 39.7686 14.1586C39.6113 14.0121 39.5798 13.7416 39.5237 13.2076C39.4549 12.5497 39.4038 12.0383 39.3752 11.7404C39.5306 11.7994 40.5111 12.1918 40.639 13.1998C40.6567 13.3502 40.7225 13.8616 40.4747 14.134Z"
                                    fill="#246AAB"/>
                                <path
                                    d="M42.841 10.0046C42.8685 9.91808 42.8931 9.82564 42.9157 9.72729C42.9865 9.41358 43.0042 9.1274 42.9993 8.88548C42.601 8.97595 41.9992 9.092 41.2577 9.14806C40.4758 9.20706 39.9487 9.14412 39.3596 9.15101C38.3467 9.16379 37.3613 9.19526 36.4064 9.24345C36.4044 9.19034 36.4113 9.11364 36.4516 9.03693C36.4664 9.00841 36.547 8.86778 36.8184 8.79402C37.5806 8.58848 40.6627 8.558 40.6627 8.558C40.9607 8.55505 41.4317 8.54029 42.0178 8.4744C42.2155 8.28755 42.4466 7.99941 42.5332 7.60014C42.544 7.55097 42.5489 7.51261 42.5538 7.48311C42.5853 7.26872 42.6128 6.86256 42.4358 6.44461C42.3817 6.31774 42.3306 6.18793 42.2086 6.06696C41.8684 5.72965 41.3206 5.76112 41.0413 5.77685C40.6489 5.79849 40.2585 5.83586 39.869 5.87716C39.3301 5.93617 38.7912 5.99419 38.2533 6.0532C38.1579 6.05516 38.0644 6.05713 37.973 6.06008C38.2798 5.75718 38.3447 5.2871 38.1185 4.9252C37.8835 4.54855 37.3849 4.38136 36.9414 4.54166C36.9483 4.73441 36.9335 4.99306 36.8509 5.28415C36.7427 5.66572 36.5578 5.95584 36.3985 6.15548C36.0789 6.19088 35.9078 6.23907 35.7524 6.36888C35.4859 6.59113 35.3944 6.92255 35.3679 7.19594C35.3679 7.19693 35.3679 7.19693 35.3679 7.19791C35.3659 7.2225 35.3639 7.2461 35.362 7.26872C35.3698 7.39853 35.3777 7.53031 35.3836 7.66406C35.4013 8.05055 35.4131 8.44982 35.4161 8.86188C35.418 9.05168 35.418 9.23853 35.4171 9.42342C35.4112 9.7037 35.4043 9.98496 35.3984 10.2652C35.3895 10.5465 35.3748 10.8219 35.359 11.0903H35.361C35.359 11.1218 35.358 11.1543 35.359 11.1867C35.3698 11.4857 35.5498 11.7502 35.7967 11.8082C36.3592 11.7138 36.9591 11.6361 37.5973 11.587C38.983 11.4778 40.2388 11.525 41.3294 11.642C41.3698 13.0129 41.2704 14.0131 41.1632 14.0957C41.0344 14.194 40.8682 14.3012 40.8682 14.3012C40.7099 14.3809 40.5683 14.4055 40.468 14.4114C40.4729 14.4507 40.5683 15.3083 41.1632 15.6446C41.7071 15.9534 42.1909 15.5551 42.2342 15.5177C42.1496 14.0947 42.2745 12.9972 42.4112 12.238C42.5046 11.7168 42.7161 10.7373 42.3768 10.5229C42.2647 10.4521 42.0306 10.4422 41.5655 10.4403C41.4366 10.4393 41.3294 10.4403 41.2577 10.4423C40.8161 10.4334 40.3676 10.4275 39.9133 10.4275C39.6124 10.4275 39.3075 10.4295 38.9997 10.4354C38.1146 10.4501 37.2541 10.4836 36.4182 10.5327C36.4172 10.5052 36.4172 10.4649 36.4172 10.4167C36.4182 10.2446 36.431 10.101 36.4339 10.0823C36.5018 9.67026 39.3645 9.91513 39.3645 9.91513C40.2123 9.98594 41.3963 10.0499 42.841 10.0046ZM36.4772 7.22053C37.1725 7.08776 37.9799 6.96976 38.8787 6.90485C39.6517 6.84978 40.3598 6.84093 40.9892 6.85961C41.1564 6.89305 41.2852 6.99729 41.3226 7.13104C41.3422 7.20283 41.3353 7.27658 41.3039 7.34444C41.2704 7.41722 41.2085 7.48114 41.1259 7.52834C40.4562 7.50769 39.7019 7.51261 38.8777 7.5667C38.0399 7.62374 37.2787 7.72011 36.61 7.83223C36.5677 7.80174 36.4595 7.71028 36.4221 7.55981C36.4152 7.53326 36.4123 7.50671 36.4103 7.48212C36.4103 7.48114 36.4103 7.48114 36.4103 7.48114C36.4034 7.35329 36.4575 7.25396 36.4772 7.22053Z"
                                    fill="#246AAB"/>
                                <path
                                    d="M35.4151 9.42233C35.4102 9.70261 35.4053 9.98387 35.3994 10.2641C35.3246 10.449 35.2214 10.5326 35.1909 10.5552C35.0984 10.6231 35.0404 10.6054 34.7375 10.5641C34.2979 10.5041 34.2094 10.5139 34.1189 10.6103C34.1012 10.629 33.9891 10.7519 33.936 10.986C33.9105 11.1001 33.9173 11.1601 33.9144 11.3784C33.9085 11.7403 33.8249 12.2133 33.936 12.353C33.9636 12.3864 34.0147 12.4149 34.1189 12.351C34.296 12.2526 34.4789 12.1415 34.6667 12.0176C34.7818 11.9419 34.8939 11.8642 35.0021 11.7865C34.9912 12.2192 34.9804 12.6519 34.9686 13.0856C34.8536 13.2292 34.6657 13.4406 34.412 13.6098C33.8436 13.9914 33.4473 13.8271 32.8523 13.9451C32.5563 14.0022 32.1226 14.1477 31.6033 14.5539C31.5473 14.545 31.4578 14.5175 31.3771 14.4132C31.1618 14.1389 31.1972 13.5852 31.206 13.4672C31.2355 13.0266 31.3919 12.7365 31.4548 12.6332C31.6299 12.646 31.8138 12.6529 32.0075 12.6519C32.3399 12.65 32.6477 12.6244 32.927 12.586C33.0136 12.2428 33.0617 11.9478 33.0903 11.7245C33.1286 11.4236 33.1296 11.2663 33.0903 11.0932C33.0529 10.9289 32.9909 10.8041 32.9418 10.7224C32.8129 10.7932 32.6644 10.8601 32.5002 10.9093C32.3891 10.9427 32.2858 10.9624 32.1904 10.9752C32.156 10.9634 31.9102 10.8739 31.798 10.4884C31.684 10.0989 31.7685 9.61705 31.9308 9.40757C32.0586 9.24236 32.2189 9.26695 32.2957 9.27678C32.51 9.3053 32.7244 9.30432 32.9388 9.29153C32.9978 9.24629 33.0608 9.1804 33.105 9.08206C33.1512 8.98175 33.168 8.87161 33.164 8.55199C33.163 8.43005 33.1581 8.27958 33.1473 8.10748C32.9821 7.93931 32.8759 7.67772 32.8759 7.38368C32.8759 6.87721 33.1916 6.46515 33.581 6.46515C33.9704 6.46515 34.2861 6.87721 34.2861 7.38368C34.2861 7.67576 34.1819 7.93538 34.0196 8.10355C34.0216 8.40251 34.0167 8.62378 34.0029 8.76933C33.9999 8.80867 33.9891 8.91881 34.0314 9.02207C34.0589 9.08796 34.1012 9.13516 34.1465 9.1686C34.1553 9.16762 34.1642 9.16664 34.174 9.16664C34.3913 9.15779 34.7051 9.13123 35.0857 9.05453C35.1122 9.06141 35.305 9.11353 35.4151 9.42233Z"
                                    fill="#246AAB"/>
                            </svg>
                        </Link>
                    </div>
                </div>
                <div className={'main-contain'}>
                    {
                        !!user.domain ?
                            <div className={'user-account'}>
                                <img src={user.avatar || defaultAvatar(user.id)} alt=""/>
                                <div>{user.nickname || user.userName || user.domain}</div>
                                <div>你已收集</div>
                                <div className={'badge'}>
                                    <img src="/images/merge/host.png" alt=""/>
                                    <div className={'count'}>HOSTx{resource && resource.host_count - resource.shanhaiwoo_host_used_count || 0}</div>
                                </div>
                                <div className={'badge'}>
                                    <img src="/images/merge/poap.png" alt=""/>
                                    <div className={'count'}>POAPx{resource && resource.poap_count - resource.shanhaiwoo_poap_used_count || 0}</div>
                                </div>
                            </div>:
                            <div className={'user-account'}>
                                <div className={'login-btn'} onClick={e => {openConnectWalletDialog()}}> <span>登录</span>查看你的收藏</div>
                            </div>
                    }


                    <div className={'page-title'} />
                    <div className={'sub-title'}>
                        <svg xmlns="http://www.w3.org/2000/svg" width="302" height="39" viewBox="0 0 302 39" fill="none">
                            <path d="M0.5 8.4433L7.72118 0.5H293.788L301.5 8.45261V19.5V30.5474L293.788 38.5H7.72119L0.5 30.5567V19.5V8.4433Z" fill="#FBFBF4" stroke="#C0C1B9"/>
                        </svg>
                        <svg xmlns="http://www.w3.org/2000/svg" width="294" height="31" viewBox="0 0 294 31" fill="none">
                            <path opacity="0.3" d="M0.25 6.65529L6.1507 0.25H287.118L293.75 6.66372V15.5V24.3363L287.118 30.75H6.1507L0.25 24.3447V15.5V6.65529Z" fill="#FBFBF4" stroke="#C0C1B9" strokeWidth="0.5"/>
                        </svg>
                        <svg width="266" height="13" viewBox="0 0 266 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M5.38881 1.292V11.432C5.38881 11.636 4.64481 12.128 4.02081 12.128H3.72081V8.3C3.19281 8.708 2.55681 9.176 1.83681 9.668C1.71681 9.836 1.57281 9.956 1.42881 10.016L0.696813 8.432C1.15281 8.192 1.22481 8.06 1.22481 7.76V1.904L3.19281 2.096C3.15681 2.24 3.08481 2.348 2.82081 2.384V7.892C3.10881 7.808 3.40881 7.736 3.72081 7.652V0.74L5.83281 0.943999C5.80881 1.112 5.72481 1.244 5.38881 1.292ZM9.37281 3.968H7.98081C7.76481 4.484 7.52481 4.964 7.24881 5.408C7.52481 6.416 7.93281 7.268 8.47281 7.976C9.01281 6.728 9.27681 5.372 9.37281 3.968ZM12.0128 3.968H11.2448C11.0168 5.84 10.5128 7.58 9.48081 9.02C10.2488 9.644 11.2088 10.112 12.3728 10.448L12.3368 10.58C11.4968 10.796 11.0408 11.288 10.8488 12.128C9.84081 11.648 9.08481 10.988 8.49681 10.136C7.62081 10.976 6.46881 11.66 4.99281 12.164L4.92081 12.056C6.25281 11.228 7.22481 10.208 7.90881 9.08C7.48881 8.132 7.20081 7.04 7.00881 5.78C6.60081 6.392 6.12081 6.944 5.59281 7.412L5.46081 7.34C6.14481 5.624 6.72081 3.092 6.86481 0.74L9.26481 1.232C9.21681 1.388 9.08481 1.496 8.79681 1.52C8.60481 2.276 8.37681 2.984 8.12481 3.632H10.0208L10.8488 2.516C10.8488 2.516 11.7968 3.272 12.3608 3.776C12.3248 3.908 12.1928 3.968 12.0128 3.968ZM17.9888 0.823999L18.0608 0.763999C21.5768 0.752 19.9688 3.416 18.5288 2.324C18.5168 1.76 18.2648 1.172 17.9888 0.823999ZM18.2288 2.984H16.7048V3.992H18.2288V2.984ZM18.2288 5.372V4.328H16.7048V5.372H18.2288ZM18.2288 6.812V5.708H16.7048V6.812H18.2288ZM15.0008 7.988V4.016C14.4608 4.328 13.8968 4.58 13.3088 4.784L13.2128 4.676C14.1728 3.8 15.1928 2.312 15.7568 0.692L17.8808 1.712C17.8088 1.844 17.6408 1.94 17.3528 1.892C17.1608 2.144 16.9688 2.384 16.7648 2.612L16.8728 2.648H21.2168L22.0208 1.58C22.0208 1.58 22.9208 2.3 23.4488 2.792C23.4128 2.924 23.2808 2.984 23.1128 2.984H20.0048V3.992H21.1208L21.8768 2.996C21.8768 2.996 22.7408 3.668 23.2568 4.136C23.2328 4.268 23.1008 4.328 22.9328 4.328H20.0048V5.372H21.1208L21.8768 4.376C21.8768 4.376 22.7408 5.048 23.2568 5.516C23.2328 5.648 23.1008 5.708 22.9328 5.708H20.0048V6.812H21.5048L22.3448 5.72C22.3448 5.72 23.2808 6.452 23.8448 6.956C23.8088 7.088 23.6768 7.148 23.5088 7.148H16.7048V7.496C16.7048 7.604 16.1888 7.988 15.3128 7.988H15.0008ZM24.0848 8.708H20.0288C21.0968 9.5 22.8968 9.992 24.5048 10.124L24.4928 10.268C23.8568 10.448 23.3888 11.012 23.2208 11.852C21.5288 11.252 20.4368 10.256 19.7048 8.792V11.732C19.7048 11.852 18.9128 12.128 18.2288 12.128H17.9048V9.908C16.7288 10.784 15.1208 11.432 13.2968 11.852L13.2368 11.732C14.7368 11.012 15.9488 9.848 16.6688 8.708H13.4528L13.3568 8.372H17.9048V7.196L20.1008 7.376C20.0768 7.52 20.0048 7.64 19.7048 7.688V8.372H22.1408L22.9568 7.244C22.9568 7.244 23.8808 8 24.4208 8.516C24.3848 8.648 24.2528 8.708 24.0848 8.708ZM26.3528 1.052L26.4368 0.98C30.1808 0.991999 29.1128 3.86 27.5648 2.996C27.3488 2.3 26.8088 1.532 26.3528 1.052ZM25.4528 3.68L25.5368 3.608C29.1488 3.668 27.9728 6.476 26.4968 5.552C26.3528 4.868 25.8848 4.136 25.4528 3.68ZM34.4528 7.772H31.2488V10.664H34.4528V7.772ZM34.6688 4.82L35.5208 3.644C35.5208 3.644 36.4808 4.436 37.0328 4.964C37.0088 5.096 36.8648 5.156 36.6968 5.156H33.6848V7.436H34.3208L35.1008 6.596L36.6608 7.784C36.5768 7.88 36.4328 8 36.1808 8.048V11.576C36.1688 11.684 35.3408 12.032 34.7528 12.032H34.4528V11H31.2488V11.576C31.2488 11.732 30.5048 12.104 29.7848 12.104H29.5448V6.752L31.3208 7.436H31.9088V5.156H29.0168L28.9328 4.856C28.5248 6.068 28.1168 7.376 27.9968 7.808C27.8888 8.204 27.7808 8.66 27.7928 8.972C27.8168 9.656 28.3928 9.992 28.3568 11.072C28.3328 11.72 27.8288 12.152 27.1328 12.152C26.8208 12.152 26.4608 11.996 26.3288 11.528C26.5808 10.268 26.5328 9.104 26.2448 8.912C26.0648 8.792 25.8488 8.72 25.5968 8.696V8.492H26.1608C26.3648 8.492 26.4248 8.492 26.5808 8.252C26.9048 7.796 26.9048 7.796 29.2688 3.344L29.4368 3.392C29.2928 3.788 29.1248 4.292 28.9448 4.82H31.9088V2.852C30.9608 2.924 29.9768 2.972 29.0768 2.984L29.0528 2.828C31.0448 2.36 33.6128 1.484 34.9088 0.835999L36.5528 2.42C36.3968 2.54 36.0968 2.552 35.6768 2.396C35.1128 2.492 34.4288 2.588 33.6848 2.684V4.82H34.6688ZM42.9968 2.576H38.4008L38.3048 2.24H41.0768L41.8808 1.16C41.8808 1.16 42.7928 1.892 43.3328 2.384C43.2968 2.516 43.1768 2.576 42.9968 2.576ZM41.3408 6.74L41.4728 6.692C44.6408 8.504 43.0088 11.24 41.7128 9.824C41.7248 9.656 41.7368 9.488 41.7368 9.32C41.0168 9.716 40.0928 10.184 39.0368 10.652C38.9408 10.796 38.8328 10.892 38.7008 10.952L37.8008 8.828C37.8008 8.828 38.1848 8.756 38.3048 8.648C38.8088 8.12 39.4928 6.284 39.6848 5.192H37.9328L37.8368 4.856H41.7368L42.5408 3.776C42.5408 3.776 43.4528 4.508 43.9928 5C43.9568 5.132 43.8248 5.192 43.6568 5.192H40.0448L41.9288 5.768C41.8808 5.888 41.7608 5.996 41.5448 6.008C40.9088 6.98 39.8048 8.192 38.8808 8.912C39.6008 8.852 40.6088 8.756 41.7008 8.648C41.6408 7.976 41.4968 7.316 41.3408 6.74ZM47.9888 2.912L49.3928 4.16C49.2968 4.268 49.1408 4.352 48.8648 4.4C48.7568 9.296 48.5768 10.772 47.8688 11.444C47.4248 11.864 46.8848 12.044 46.1648 12.044C46.1648 11.504 46.1288 11.132 45.9848 10.916C45.8048 10.664 45.5288 10.484 45.0608 10.364L45.0728 10.22C45.4328 10.256 45.9728 10.28 46.2248 10.28C46.4048 10.28 46.5128 10.232 46.6208 10.136C47.0288 9.776 47.1608 8.036 47.2568 4.112H46.0448C45.9488 7.796 45.4208 10.412 41.6888 12.14L41.5808 11.984C43.9688 9.956 44.3288 7.472 44.3648 4.112H43.1288L43.0208 3.776H44.3648C44.3648 2.828 44.3528 1.82 44.3528 0.727999L46.5368 0.92C46.5008 1.112 46.3688 1.22 46.0808 1.268C46.0688 2.156 46.0688 2.984 46.0568 3.776H47.1248L47.9888 2.912ZM57.3857 2.492H56.9177C56.8937 3.728 56.8937 4.988 56.8937 6.26V6.968H57.2897C58.6817 6.968 59.3537 6.032 59.3537 4.688C59.3537 3.236 58.6577 2.492 57.3857 2.492ZM57.3497 7.412H56.8937C56.8937 8.312 56.8937 9.38 56.9177 10.46L58.2017 10.592V11H53.7497V10.592L54.8297 10.484C54.8657 9.272 54.8657 8.036 54.8657 6.788V6.26C54.8657 5.012 54.8657 3.776 54.8297 2.54L53.7497 2.444V2.036H57.4097C60.1337 2.036 61.2257 3.008 61.2257 4.7C61.2257 6.2 60.2057 7.412 57.3497 7.412ZM64.6248 6.512C64.6248 8.984 65.2848 10.784 66.7608 10.784C68.2248 10.784 68.8968 8.984 68.8968 6.512C68.8968 4.064 68.2248 2.252 66.7608 2.252C65.2848 2.252 64.6248 4.064 64.6248 6.512ZM66.7608 1.796C69.0168 1.796 71.0088 3.404 71.0088 6.512C71.0088 9.632 69.0288 11.24 66.7608 11.24C64.5048 11.24 62.5008 9.644 62.5008 6.512C62.5008 3.416 64.5168 1.796 66.7608 1.796ZM73.9954 7.736H76.5034L75.1954 3.632L73.9954 7.736ZM79.4314 10.484L80.3914 10.592V11H76.2994V10.592L77.3674 10.472L76.6354 8.156H73.8754L73.2154 10.436L74.3434 10.592V11H71.5954V10.592L72.5914 10.448L75.3034 2H76.5514L79.4314 10.484ZM84.9852 2.492H84.5172C84.4932 3.728 84.4932 4.988 84.4932 6.26V6.968H84.8892C86.2812 6.968 86.9532 6.032 86.9532 4.688C86.9532 3.236 86.2572 2.492 84.9852 2.492ZM84.9492 7.412H84.4932C84.4932 8.312 84.4932 9.38 84.5172 10.46L85.8012 10.592V11H81.3492V10.592L82.4292 10.484C82.4652 9.272 82.4652 8.036 82.4652 6.788V6.26C82.4652 5.012 82.4652 3.776 82.4292 2.54L81.3492 2.444V2.036H85.0092C87.7332 2.036 88.8252 3.008 88.8252 4.7C88.8252 6.2 87.8052 7.412 84.9492 7.412ZM96.1272 7.736H97.7352V4.484H96.1272V7.736ZM99.4152 4.748V8.708C99.4032 8.804 98.5752 9.092 98.0232 9.092H97.7352V8.072H96.1272V9.068C96.1272 9.224 95.4312 9.596 94.7232 9.596H94.4832V3.476L96.1872 4.148H97.6152L98.3592 3.332L99.8952 4.496C99.8112 4.592 99.6672 4.7 99.4152 4.748ZM101.887 1.82L102.847 0.607999C102.847 0.607999 103.939 1.412 104.599 1.964C104.563 2.096 104.419 2.156 104.239 2.156H102.811V10.076C102.811 11.216 102.463 12.02 100.339 12.14C100.303 11.576 100.171 11.144 99.8472 10.892C99.5352 10.64 99.1752 10.448 98.2152 10.292V10.148C98.2152 10.148 100.315 10.268 100.735 10.268C100.951 10.268 101.035 10.172 101.035 10.004V2.156H93.1992L93.1032 1.82H101.887ZM109.291 10.736H113.203V7.94H109.291V10.736ZM113.071 7.604L113.887 6.704L115.555 7.976C115.471 8.072 115.315 8.192 115.051 8.252V11.612C115.039 11.696 114.115 11.996 113.515 11.996H113.203V11.072H109.291V11.564C109.291 11.732 108.475 12.128 107.719 12.128H107.455V6.872L109.387 7.604H113.071ZM111.487 5.552L112.399 4.34C112.399 4.34 113.431 5.144 114.043 5.696C114.007 5.828 113.875 5.888 113.695 5.888H108.523L108.427 5.552H111.487ZM110.071 0.715999L112.543 1.328C112.483 1.496 112.327 1.58 111.907 1.616C112.987 3.056 115.207 3.692 116.923 4.028V4.22C116.179 4.448 115.735 5.216 115.627 5.864C113.863 5.012 112.387 3.728 111.727 1.76C110.587 3.644 108.055 5.48 105.571 6.344L105.499 6.212C107.575 4.904 109.639 2.42 110.071 0.715999ZM121.867 5.78H120.679V5.804C120.679 6.668 120.643 7.688 120.379 8.696C120.619 8.72 121.039 8.732 121.231 8.732C121.387 8.732 121.471 8.708 121.543 8.648C121.735 8.468 121.819 7.652 121.867 5.78ZM129.139 8.048L128.815 10.196C129.283 11.048 129.355 11.516 129.103 11.732C128.407 12.344 127.243 11.732 126.691 11.192C126.247 10.76 125.875 10.292 125.551 9.788C124.579 10.7 123.343 11.48 121.783 12.008L121.699 11.876C123.079 11.036 124.147 9.908 124.939 8.684C124.219 7.148 123.895 5.42 123.751 3.572H120.679V5.444H121.759L122.563 4.676L123.943 5.828C123.859 5.924 123.715 6.008 123.475 6.044C123.403 8.708 123.259 9.536 122.683 9.968C122.323 10.232 121.879 10.364 121.243 10.364C121.243 9.896 121.219 9.524 121.075 9.308C120.931 9.092 120.727 8.948 120.355 8.84V8.78C120.007 10.04 119.287 11.288 117.811 12.2L117.727 12.116C118.855 10.244 118.939 7.844 118.939 5.804V2.564L120.931 3.236H123.727C123.679 2.42 123.655 1.592 123.655 0.752L125.803 0.956C125.791 1.112 125.683 1.256 125.371 1.304C125.359 1.94 125.359 2.588 125.395 3.236H126.715L127.123 2.72C127.039 2.696 126.955 2.672 126.871 2.624C126.703 2.072 126.235 1.472 125.827 1.136L125.911 1.064C128.047 0.812 128.407 1.856 127.999 2.408C128.347 2.684 128.851 3.068 129.211 3.38C129.175 3.512 129.043 3.572 128.863 3.572H125.407C125.479 4.676 125.635 5.756 125.959 6.728C126.271 5.984 126.499 5.216 126.667 4.484L128.863 5.228C128.815 5.372 128.707 5.468 128.395 5.456C127.999 6.464 127.471 7.484 126.763 8.444C127.039 8.864 127.363 9.236 127.747 9.572C127.915 9.752 128.011 9.752 128.155 9.548C128.371 9.236 128.767 8.552 129.031 8.012L129.139 8.048ZM137.647 8.36V0.74H141.607V1.232H138.163V8.36H137.647ZM151.387 3.572L153.679 3.776C153.655 3.944 153.571 4.076 153.235 4.124V11.624C153.235 11.768 152.431 12.152 151.723 12.152H151.387V11H145.135L144.607 11.768L142.783 10.904C142.903 10.76 143.071 10.592 143.239 10.46V3.56L145.519 3.776C145.483 3.956 145.387 4.076 145.075 4.124V10.664H147.271V0.931999L149.587 1.136C149.563 1.316 149.479 1.436 149.143 1.484V10.664H151.387V3.572ZM155.731 0.931999L155.815 0.872C159.415 1.16 157.963 3.872 156.511 2.816C156.415 2.132 156.055 1.424 155.731 0.931999ZM154.855 3.74L154.939 3.68C158.323 3.884 156.943 6.44 155.575 5.456C155.503 4.832 155.167 4.172 154.855 3.74ZM158.335 2.552L158.515 2.6C158.119 4.124 157.459 6.932 157.327 7.64C157.243 8.072 157.159 8.528 157.171 8.852C157.195 9.548 157.747 9.944 157.711 11.072C157.699 11.708 157.243 12.152 156.583 12.152C156.283 12.152 155.947 12.008 155.827 11.516C156.079 10.244 156.031 9.008 155.743 8.816C155.575 8.696 155.371 8.636 155.107 8.612V8.396H155.647C155.839 8.396 155.887 8.396 156.019 8.144C156.271 7.676 156.271 7.676 158.335 2.552ZM161.035 4.7L161.143 4.64C163.939 5.048 162.835 7.1 161.731 6.296C161.647 5.744 161.323 5.108 161.035 4.7ZM160.927 7.34L161.035 7.28C163.927 7.772 162.655 9.932 161.539 9.02C161.527 8.432 161.239 7.76 160.927 7.34ZM160.015 9.44H163.207C163.303 8.888 163.375 8.12 163.435 7.088H160.387C160.255 7.94 160.135 8.792 160.015 9.44ZM163.543 4.208H160.759C160.687 4.88 160.567 5.804 160.435 6.752H163.459C163.495 6.032 163.519 5.18 163.543 4.208ZM166.171 7.088H164.995C164.959 7.964 164.899 8.672 164.839 9.248L165.295 8.468C165.295 8.468 165.955 9.152 166.303 9.584C166.267 9.716 166.147 9.776 165.991 9.776H164.779C164.623 10.784 164.395 11.288 164.059 11.612C163.627 12.032 163.063 12.128 162.367 12.14C162.379 11.708 162.343 11.408 162.199 11.204C162.031 10.964 161.791 10.82 161.359 10.712V10.556C161.695 10.592 162.187 10.604 162.427 10.604C162.607 10.604 162.727 10.568 162.835 10.46C162.955 10.352 163.051 10.136 163.135 9.776H160.051L159.511 10.472L158.047 9.668C158.143 9.572 158.287 9.464 158.431 9.38C158.563 8.78 158.695 7.964 158.815 7.088H157.771L157.675 6.752H158.851C158.959 5.984 159.055 5.192 159.127 4.484C158.767 4.808 158.395 5.096 157.987 5.348L157.891 5.264C158.671 4.196 159.319 2.3 159.571 0.763999L161.779 1.364C161.731 1.496 161.635 1.556 161.323 1.52C161.191 1.784 161.047 2.048 160.879 2.312H163.951L164.767 1.184C164.767 1.184 165.691 1.94 166.231 2.456C166.195 2.588 166.063 2.648 165.895 2.648H160.675C160.507 2.9 160.327 3.152 160.135 3.392L161.119 3.872H163.411L164.239 3.032L165.619 4.244C165.523 4.352 165.355 4.436 165.079 4.484C165.067 5.192 165.043 5.84 165.019 6.416L165.439 5.696C165.439 5.696 166.135 6.428 166.483 6.896C166.459 7.028 166.339 7.088 166.171 7.088ZM177.511 6.2L178.891 7.352C178.807 7.46 178.663 7.532 178.411 7.568C178.279 10.184 178.051 11.252 177.439 11.708C177.031 12.008 176.539 12.104 175.795 12.104C175.795 11.672 175.759 11.372 175.579 11.156C175.375 10.928 175.039 10.772 174.547 10.664V10.52C174.979 10.556 175.675 10.592 175.915 10.592C176.095 10.592 176.191 10.568 176.287 10.496C176.431 10.376 176.539 10.004 176.635 9.38C176.599 9.392 176.575 9.392 176.539 9.392H171.283L171.187 9.056H174.523L175.363 7.94C175.363 7.94 176.119 8.54 176.683 9.032C176.731 8.564 176.779 7.988 176.815 7.304H173.875L173.407 8.084L171.835 7.184C171.931 7.064 172.075 6.92 172.219 6.812V4.376C172.159 4.436 172.063 4.46 171.955 4.46H170.467V8.204C171.019 8.096 171.583 7.988 172.159 7.868L172.183 7.976C171.439 8.552 170.227 9.368 168.379 10.412C168.319 10.58 168.187 10.7 168.043 10.748L167.179 8.792C167.527 8.744 168.091 8.648 168.787 8.516V4.46H167.335L167.239 4.124H168.787V0.908L170.911 1.088C170.887 1.256 170.803 1.388 170.467 1.436V4.124H170.515L171.163 2.948C171.163 2.948 171.835 3.68 172.219 4.184V1.628L173.827 2.228C173.851 1.796 173.875 1.184 173.887 0.74L176.143 1.148C176.095 1.352 175.927 1.448 175.651 1.472C175.351 1.7 174.907 2.036 174.559 2.276H176.059L176.863 1.532L178.243 2.66C178.159 2.756 178.027 2.828 177.787 2.876C177.775 5.072 177.703 5.744 177.187 6.116C176.863 6.344 176.455 6.476 175.807 6.476C175.807 5.996 175.783 5.636 175.639 5.42C175.495 5.216 175.303 5.072 174.931 4.964V4.832C175.159 4.844 175.591 4.856 175.771 4.856C175.915 4.856 175.987 4.844 176.035 4.784C176.155 4.664 176.167 4.064 176.179 2.612H173.779V6.968H176.695L177.511 6.2ZM183.607 4.52V12.14H179.647V11.648H183.091V4.52H183.607ZM200.683 5.096L201.595 3.848C201.595 3.848 202.639 4.688 203.239 5.24C203.203 5.372 203.071 5.432 202.891 5.432H197.287C197.107 6.056 196.927 6.644 196.783 7.112H199.375L200.347 6.188L201.919 7.7C201.823 7.82 201.703 7.856 201.427 7.88C200.767 8.456 199.735 9.188 198.799 9.74C200.875 10.688 200.515 12.476 199.111 12.248C198.067 11.12 196.063 9.896 194.455 9.38L194.515 9.248C196.171 9.116 197.407 9.26 198.307 9.56C198.703 8.888 199.111 8.084 199.387 7.448H196.747L196.111 8.216L194.455 7.244C194.563 7.148 194.719 7.04 194.875 6.944C195.043 6.524 195.223 5.996 195.403 5.432H192.223L192.127 5.096H195.499C195.703 4.472 195.895 3.8 196.063 3.164H192.919L192.823 2.828H196.159C196.399 1.916 196.591 1.088 196.675 0.595999L198.931 1.244C198.871 1.388 198.727 1.532 198.403 1.496L198.031 2.828H199.747L200.623 1.664C200.623 1.664 201.607 2.444 202.183 2.972C202.147 3.104 202.015 3.164 201.847 3.164H197.935C197.767 3.776 197.575 4.448 197.383 5.096H200.683ZM213.319 1.844H207.379V3.176H213.319V1.844ZM207.379 3.512V4.388C207.379 6.74 207.211 10.052 204.367 12.092L204.271 12.008C205.567 9.728 205.675 6.848 205.675 4.4V0.848L207.631 1.508H213.199L213.919 0.74L215.419 1.844C215.347 1.928 215.215 2.036 214.987 2.072V3.584C214.975 3.68 214.159 3.992 213.619 3.992H213.319V3.512H207.379ZM211.915 8.456H213.427L214.003 7.808C213.763 7.868 213.487 7.916 213.271 7.916H212.983V7.484H211.915V8.456ZM208.831 8.456H210.343V7.484H209.311V7.664C209.311 7.796 208.603 8.12 207.967 8.12H207.955L208.831 8.456ZM210.343 6.02H209.311V7.148H210.343V6.02ZM212.983 6.02H211.915V7.148H212.983V6.02ZM214.183 7.748L215.587 8.792C215.515 8.888 215.359 9.008 215.107 9.044V10.772C215.107 11.6 214.903 12.056 213.415 12.176C213.403 11.792 213.379 11.504 213.283 11.336C213.187 11.18 213.067 11.024 212.671 10.952V10.808C212.671 10.808 213.187 10.844 213.367 10.844C213.511 10.844 213.547 10.772 213.547 10.652V8.792H211.915V9.56L212.287 9.548C212.239 9.38 212.167 9.224 212.095 9.104L212.215 9.044C214.507 9.572 213.283 11.192 212.419 10.388C212.431 10.22 212.407 10.052 212.371 9.884C211.783 10.148 210.967 10.484 209.851 10.904C209.779 11.06 209.647 11.144 209.503 11.168L208.819 9.596C209.155 9.596 209.695 9.596 210.343 9.596V8.792H208.735V11.636C208.735 11.78 208.051 12.104 207.427 12.104H207.211V7.832L207.751 8.036V5.06L209.395 5.684H210.343V4.988C209.455 4.988 208.555 4.964 207.751 4.904L207.727 4.724C209.395 4.508 211.531 4.004 212.635 3.584L214.027 4.796C213.895 4.916 213.631 4.952 213.271 4.832C212.887 4.88 212.419 4.916 211.915 4.952V5.684H212.875L213.547 4.976L214.951 6.008C214.891 6.08 214.771 6.164 214.579 6.212V7.568C214.579 7.604 214.411 7.676 214.183 7.748ZM217.867 0.752L217.951 0.704C221.455 1.148 219.715 3.68 218.359 2.516C218.335 1.868 218.107 1.22 217.867 0.752ZM225.355 7.844H226.147V5.816H225.355V7.844ZM222.955 7.844H223.747V5.816H222.955V7.844ZM219.907 5.936V5.948C220.759 6.176 221.191 6.524 221.359 6.872V4.04C221.287 4.052 221.191 4.064 221.083 4.076C220.783 4.688 220.387 5.324 219.907 5.936ZM223.747 3.632H222.955V5.48H223.747V3.632ZM226.147 3.632H225.355V5.48H226.147V3.632ZM226.747 2.504L228.211 3.632C228.139 3.728 227.983 3.836 227.731 3.884V8.54C227.719 8.648 226.963 8.996 226.411 8.996H226.147V8.18H225.355V11.6C225.355 11.768 224.659 12.164 224.059 12.164H223.747V8.18H222.955V8.564C222.955 8.72 222.271 9.08 221.599 9.08H221.359V7.532C221.167 7.892 220.663 8.06 220.195 7.664C220.171 7.304 220.051 6.908 219.907 6.56V11.648C219.907 11.744 219.391 12.128 218.587 12.128H218.299V7.592C217.807 8.012 217.267 8.396 216.703 8.696L216.607 8.6C217.915 7.208 218.959 5.3 219.379 3.692H216.847L216.739 3.356H219.307L220.183 2.516L221.359 3.656V2.636L223.039 3.296H223.747V0.715999L225.799 0.92C225.775 1.088 225.691 1.208 225.355 1.256V3.296H226.027L226.747 2.504ZM231.847 0.956L231.919 0.895999C235.759 0.763999 234.427 3.8 232.807 2.78C232.687 2.108 232.267 1.4 231.847 0.956ZM233.827 3.464H232.075V4.664H233.827V3.464ZM237.175 3.464H235.507V4.664H237.175V3.464ZM235.507 6.296H237.175V5H235.507V6.296ZM232.075 6.296H233.827V5H232.075V6.296ZM232.075 6.632V6.644C232.075 6.8 231.307 7.172 230.611 7.172H230.371V2.444L232.195 3.128H235.279C235.411 2.516 235.603 1.568 235.783 0.763999L238.027 1.58C237.967 1.736 237.799 1.832 237.511 1.82C236.959 2.276 236.335 2.744 235.759 3.128H237.055L237.799 2.312L239.359 3.476C239.287 3.572 239.131 3.68 238.879 3.74V6.512C238.867 6.596 238.015 6.872 237.475 6.872H237.175V6.632H232.075ZM232.483 10.928H236.875V9.068H232.483V10.928ZM236.755 8.732L237.523 7.88L239.143 9.092C239.071 9.188 238.927 9.296 238.675 9.356V11.708C238.663 11.792 237.763 12.068 237.187 12.068H236.875V11.264H232.483V11.624C232.483 11.768 231.691 12.14 230.983 12.14H230.743V8.036L232.579 8.732H236.755ZM238.231 7.448L239.047 6.464C239.047 6.464 239.959 7.124 240.523 7.592C240.499 7.724 240.367 7.784 240.187 7.784H229.267L229.171 7.448H238.231ZM243.019 0.727999L244.783 1.7C244.723 1.82 244.615 1.892 244.315 1.856C243.631 2.696 242.563 3.8 241.363 4.544L241.255 4.424C241.999 3.356 242.719 1.736 243.019 0.727999ZM250.939 3.908H250.171C250.027 4.268 249.871 4.616 249.703 4.94C249.847 5.948 250.087 6.848 250.435 7.628C250.771 6.476 250.903 5.228 250.939 3.908ZM246.235 9.356V8.636C245.851 8.732 245.431 8.828 245.011 8.924L246.235 9.356ZM246.235 10.64V9.56C246.163 9.608 246.043 9.644 245.899 9.632C245.635 10.04 245.323 10.436 244.999 10.772C245.119 10.784 245.839 10.832 246.031 10.832C246.199 10.832 246.235 10.76 246.235 10.64ZM245.923 3.812H246.355V2.192C246.307 2.288 246.175 2.36 245.923 2.396V3.812ZM252.835 3.908H252.355C252.223 5.768 251.899 7.448 251.131 8.876C251.647 9.596 252.283 10.184 253.075 10.64L253.039 10.748C252.319 10.94 251.911 11.372 251.731 12.104C251.143 11.54 250.711 10.832 250.387 9.992C249.703 10.82 248.791 11.54 247.579 12.104L247.483 11.984C248.683 11.06 249.487 9.992 250.015 8.792C249.763 7.736 249.619 6.536 249.523 5.252C249.331 5.588 249.115 5.888 248.887 6.164L248.707 6.08C248.791 5.792 248.887 5.48 248.959 5.144C248.911 5.156 248.863 5.168 248.815 5.168H246.595L247.351 5.54C247.303 5.648 247.147 5.756 246.859 5.696C246.523 5.9 246.067 6.116 245.623 6.284C246.019 6.296 246.499 6.284 246.979 6.284C247.267 6.032 247.507 5.804 247.663 5.612L248.959 6.356C248.899 6.464 248.731 6.548 248.467 6.488C247.759 6.956 246.583 7.544 245.479 7.964C246.199 7.952 247.135 7.916 248.095 7.88C247.963 7.616 247.795 7.364 247.627 7.184L247.747 7.112C250.375 7.592 249.391 9.584 248.383 8.828C248.371 8.6 248.311 8.36 248.215 8.132L247.627 8.288V9.032L247.675 9.008C250.111 9.356 248.959 11.12 248.011 10.352C247.999 9.944 247.819 9.476 247.627 9.164V10.664C247.627 11.54 247.423 12.032 245.971 12.128C245.959 11.768 245.923 11.48 245.779 11.312C245.659 11.156 245.467 11.012 244.987 10.94V10.784C244.759 11.024 244.531 11.228 244.303 11.408L244.123 11.3C244.411 10.736 244.711 9.848 244.927 8.996C244.879 9.044 244.843 9.068 244.795 9.092L244.219 7.928C244.219 7.928 244.459 7.892 244.579 7.844C245.131 7.64 245.791 7.232 246.367 6.788C245.947 6.896 245.467 7.016 244.999 7.124C244.951 7.184 244.903 7.22 244.855 7.244L244.387 6.284C244.387 6.284 244.543 6.248 244.639 6.212C245.095 6.068 245.635 5.54 245.959 5.168H244.699L244.603 4.832H247.543L247.903 4.364V4.148H245.983L245.695 4.52L244.999 4.208C244.927 4.268 244.819 4.292 244.615 4.268C244.327 4.676 243.955 5.132 243.547 5.612L244.363 5.912C244.327 6.02 244.219 6.092 243.991 6.14V11.636C243.979 11.768 243.427 12.152 242.803 12.152H242.527V6.668C242.155 7.028 241.759 7.364 241.351 7.664L241.231 7.556C242.071 6.248 242.887 4.304 243.247 3.128L244.663 3.884C244.699 3.836 244.735 3.8 244.771 3.764V1.88L246.355 2.12V0.872L247.855 1.016C247.831 1.148 247.747 1.244 247.507 1.292V3.812H247.903V1.916L249.319 2.048C249.295 2.168 249.223 2.264 249.007 2.3V4.148C249.007 4.208 248.743 4.328 248.455 4.388C248.635 4.532 248.839 4.712 249.019 4.88C249.295 3.632 249.475 2.168 249.511 0.788L251.323 1.112C251.287 1.268 251.155 1.388 250.891 1.412C250.735 2.18 250.543 2.9 250.303 3.572H251.119L251.851 2.672C251.851 2.672 252.655 3.26 253.171 3.716C253.135 3.848 253.015 3.908 252.835 3.908ZM261.511 8.168V7.112H257.383V8.168H261.511ZM261.511 5.744H257.383V6.776H261.511V5.744ZM262.843 4.268L263.683 3.14C263.683 3.14 264.643 3.896 265.207 4.412C265.171 4.544 265.039 4.604 264.859 4.604H262.171L263.707 5.756C263.647 5.84 263.515 5.936 263.287 5.984V8.588C263.287 8.696 262.423 9.044 261.823 9.044H261.511V8.504H260.383V9.74H262.579L263.455 8.636C263.455 8.636 264.451 9.38 265.051 9.884C265.015 10.016 264.883 10.076 264.703 10.076H260.383V11.828C260.371 11.888 259.843 12.14 258.919 12.14H258.583V10.076H254.119L254.023 9.74H258.583V8.504H257.383V8.768C257.383 8.924 256.603 9.308 255.883 9.308H255.643V4.712L257.479 5.408H261.391L262.147 4.604H253.987L253.891 4.268H257.443C257.335 4.22 257.227 4.148 257.119 4.052C257.131 3.5 256.939 2.936 256.759 2.552L256.843 2.504C259.123 2.756 258.991 3.932 258.271 4.268H260.203C260.395 3.74 260.563 3.032 260.671 2.504H254.671L254.575 2.168H259.255C259.111 2.132 258.967 2.072 258.823 1.964C258.799 1.484 258.571 0.991999 258.367 0.704L258.439 0.655999C260.983 0.524 260.659 1.94 259.747 2.168H262.171L263.023 1.04C263.023 1.04 263.983 1.796 264.547 2.312C264.511 2.444 264.379 2.504 264.199 2.504H261.031L262.699 2.972C262.651 3.116 262.519 3.212 262.243 3.2C261.859 3.524 261.247 3.932 260.647 4.268H262.843Z" fill="#4E959C"/>
                        </svg>
                    </div>

                    <div className={'beast-swiper'} style={{height: '520px'}}>
                        {
                            !loading && <AppSwiper
                                initIndex={swiperInitIndex}
                                items={beastList}
                                clickToSlide={false}
                                space={8}
                                itemWidth={326}
                            />
                        }
                    </div>

                    <Panel title={<img className={'panel-title-pic'} src={'/images/merge/panel_1.png'} />}>
                        <div className={'text-1'}>发起活动可获得 Host 徽章</div>
                        <BeastBtn onClick={e => {gotoCreate()}}>+ 发起活动</BeastBtn>
                    </Panel>

                    <Panel title={<img className={'panel-title-pic'} src={'/images/merge/panel_2.png'} />}>
                        <div className={'text-1'}>参与更多活动获得 POAP</div>
                        <div className={'event-list'}>
                            {
                                events.map((event, index) => {
                                    return <div className={'list-item'} key={index} onClick={e => { router.push(`/event/detail/${event.id}`)}}>
                                        <img src="/images/merge/poap.png" alt=""/>
                                        <div>
                                            <div className={'name'}>{event.title}</div>
                                            <div className={'detail'}>{formatTime(event.start_time!)} - {formatTime(event.ending_time!)}</div>
                                            <div className={'detail'}>{event.event_site?.title || event.location || ''}</div>
                                        </div>
                                    </div>
                                })
                            }
                            <Link className={'show-more'} href={'/event'}>查看更多 <ChevronDown  size={16}/></Link>
                        </div>
                    </Panel>
                </div>
            </div>
        </div>
    </div>)
}

export default Merge
